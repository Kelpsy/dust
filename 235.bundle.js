"use strict";(self.webpackChunkdust_web=self.webpackChunkdust_web||[]).push([[235],{235:(e,t,n)=>{let r;n.r(t),n.d(t,{EmuState:()=>v,SaveType:()=>F,WbgModel:()=>E,create_emu_state:()=>l,default:()=>L,initSync:()=>x,internal_get_memory:()=>g,internal_get_module:()=>d,run_worker:()=>w});const a=new Array(32).fill(void 0);function o(e){return a[e]}a.push(void 0,null,!0,!1);let i=a.length;function s(e){const t=o(e);return function(e){e<36||(a[e]=i,i=e)}(e),t}function u(e){i===a.length&&a.push(a.length+1);const t=i;return i=a[t],a[t]=e,t}const _=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});let c;function f(){return c.buffer!==r.memory.buffer&&(c=new Uint8Array(r.memory.buffer)),c}function b(e,t){return _.decode(f().slice(e,e+t))}function w(){r.run_worker()}function m(e){return null==e}function l(e,t,n,a,o,i,s,_,c){const f=r.create_emu_state(m(e)?0:u(e),m(t)?0:u(t),m(n)?0:u(n),u(a),m(o)?0:u(o),m(i)?11:i,s,_,u(c));return v.__wrap(f)}function d(){return s(r.internal_get_module())}function g(){return s(r.internal_get_memory())}_.decode();let y=0;const p=new TextEncoder("utf-8");let h;function A(){return h.buffer!==r.memory.buffer&&(h=new Int32Array(r.memory.buffer)),h}function k(e,t){try{return e.apply(this,t)}catch(e){r.__wbindgen_exn_store(u(e))}}const F=Object.freeze({None:0,0:"None",Eeprom4k:1,1:"Eeprom4k",EepromFram64k:2,2:"EepromFram64k",EepromFram512k:3,3:"EepromFram512k",EepromFram1m:4,4:"EepromFram1m",Flash2m:5,5:"Flash2m",Flash4m:6,6:"Flash4m",Flash8m:7,7:"Flash8m",Nand64m:8,8:"Nand64m",Nand128m:9,9:"Nand128m",Nand256m:10,10:"Nand256m"}),E=Object.freeze({Ds:0,0:"Ds",Lite:1,1:"Lite",Ique:2,2:"Ique",IqueLite:3,3:"IqueLite",Dsi:4,4:"Dsi"});class v{static __wrap(e){const t=Object.create(v.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_emustate_free(e)}reset(){r.emustate_reset(this.ptr)}load_save(e){r.emustate_load_save(this.ptr,u(e))}export_save(){return s(r.emustate_export_save(this.ptr))}update_input(e,t){r.emustate_update_input(this.ptr,e,t)}update_touch(e,t){r.emustate_update_touch(this.ptr,m(e)?16777215:e,m(t)?16777215:t)}run_frame(){return s(r.emustate_run_frame(this.ptr))}}function W(){const e={wbg:{}};return e.wbg.__wbindgen_object_drop_ref=function(e){s(e)},e.wbg.__wbindgen_memory=function(){return u(r.memory)},e.wbg.__wbg_buffer_de1150f91b23aa89=function(e){return u(o(e).buffer)},e.wbg.__wbg_newwithbyteoffsetandlength_b0ff18b468a0d3f8=function(e,t,n){return u(new Float32Array(o(e),t>>>0,n>>>0))},e.wbg.__wbg_new_b1a88e259d4a7dbc=function(e){return u(new Float32Array(o(e)))},e.wbg.__wbg_call_8e1338b908441bd2=function(){return k((function(e,t,n,r){return u(o(e).call(o(t),o(n),o(r)))}),arguments)},e.wbg.__wbg_newwithbyteoffsetandlength_9ca61320599a2c84=function(e,t,n){return u(new Uint8Array(o(e),t>>>0,n>>>0))},e.wbg.__wbg_new_97cf52648830a70d=function(e){return u(new Uint8Array(o(e)))},e.wbg.__wbg_newwithbyteoffsetandlength_230fad9c7b4a8a81=function(e,t,n){return u(new Uint32Array(o(e),t>>>0,n>>>0))},e.wbg.__wbg_new_8e43cdeedb50d9f6=function(e){return u(new Uint32Array(o(e)))},e.wbg.__wbg_length_e09c0b925ab8de5d=function(e){return o(e).length},e.wbg.__wbindgen_module=function(){return u(N.__wbindgen_wasm_module)},e.wbg.__wbg_new_693216e109162396=function(){return u(new Error)},e.wbg.__wbg_stack_0ddaca5d1abfb52f=function(e,t){const n=function(e,t,n){if(void 0===n){const n=p.encode(e),r=t(n.length);return f().subarray(r,r+n.length).set(n),y=n.length,r}let r=e.length,a=t(r);const o=f();let i=0;for(;i<r;i++){const t=e.charCodeAt(i);if(t>127)break;o[a+i]=t}if(i!==r){0!==i&&(e=e.slice(i)),a=n(a,r,r=i+3*e.length);const t=function(e,t){const n=p.encode(e);return t.set(n),{read:e.length,written:n.length}}(e,f().subarray(a+i,a+r));i+=t.written}return y=i,a}(o(t).stack,r.__wbindgen_malloc,r.__wbindgen_realloc),a=y;A()[e/4+1]=a,A()[e/4+0]=n},e.wbg.__wbg_error_09919627ac0992f5=function(e,t){try{console.error(b(e,t))}finally{r.__wbindgen_free(e,t)}},e.wbg.__wbg_set_a0172b213e2469e9=function(e,t,n){o(e).set(o(t),n>>>0)},e.wbg.__wbindgen_throw=function(e,t){throw new Error(b(e,t))},e}function I(e,t){e.wbg.memory=t||new WebAssembly.Memory({initial:19,maximum:16384,shared:!0})}function U(e,t){return r=e.exports,N.__wbindgen_wasm_module=t,h=new Int32Array(r.memory.buffer),c=new Uint8Array(r.memory.buffer),r.__wbindgen_start(),r}function x(e,t){const n=W();I(n,t);const r=new WebAssembly.Module(e);return U(new WebAssembly.Instance(r,n),r)}async function N(e,t){void 0===e&&(e=new URL(n(275),n.b));const r=W();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e)),I(r,t);const{instance:a,module:o}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"==e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await e,r);return U(a,o)}const L=N},275:(e,t,n)=>{e.exports=n.p+"606b82f67386c6ceebe6.wasm"}}]);